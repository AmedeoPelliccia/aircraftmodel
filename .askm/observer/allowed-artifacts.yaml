# .askm/observer â€” Allowed Artifact Classes
# KNU-ATA96-70-001 | KNOT-ATA96-70-00-001
# Programme: ID-A360-Q100

# Observer mode may only emit artifacts of the classes listed below.
# Any attempt to produce an artifact outside this list is a governance
# violation (GOV-1) and will be rejected by pre-commit and CI.

allowed_artifacts:
  - class: LC05_ANALYSIS_STATE_CAPTURE
    description: >
      Snapshot of the current model state at a specific commit.
      Contains node counts, edge statistics, coverage metrics,
      and margin summaries. No topology mutations.
    format: markdown
    placement: SSOT/LC05_ANALYSIS_MODELS/
    naming_pattern: "LC05-STATE-CAPTURE-{DATE}-{SEQ}.md"
    knu_required: false

  - class: LC05_MARGIN_REPORT
    description: >
      Computed engineering margins from existing model data.
      Read-only computation over current KG state.
      References KNU evidence artifacts as inputs.
    format: markdown
    placement: SSOT/LC05_ANALYSIS_MODELS/
    naming_pattern: "LC05-MARGIN-REPORT-{KNOT_ID}-{SEQ}.md"
    knu_required: true

  - class: LC05_TRACE_SNAPSHOT
    description: >
      Traceability graph extraction showing requirement-to-evidence
      linkages at the current baseline. No edge creation or deletion.
    format: markdown
    placement: SSOT/LC05_ANALYSIS_MODELS/
    naming_pattern: "LC05-TRACE-SNAPSHOT-{DATE}-{SEQ}.md"
    knu_required: false

  # --- CAD Module artifacts (STD-LC04-ASKM-CAD-001 Rev A) ---

  - class: LC05_CAD_FEATURE_GRAPH
    description: >
      Canonical FeatureGraph extracted from a CAD source file.
      Contains geometric features, parametric constraints, topological
      counts, datums, materials, and tolerances. Read-only projection;
      no geometry is invented (INV-CAD-O1).
    format: json
    placement: SSOT/LC04_DESIGN_REVIEW/cad-module/
    naming_pattern: "feature_graph.json"
    schema_ref: feature_graph.schema.json
    knu_required: false

  - class: LC05_CAD_GEOMETRY_PARAMS
    description: >
      Parametric values extracted from a CAD source model.
      Units must match source (INV-CAD-O2). Hash integrity
      verified (INV-CAD-O3).
    format: yaml
    placement: SSOT/LC04_DESIGN_REVIEW/cad-module/
    naming_pattern: "geometry_params.yaml"
    knu_required: false

  - class: LC05_CAD_SEMANTICS
    description: >
      Design-level metadata extracted by the CAD observer: units,
      coordinate system, tolerancing standard, materials, datums,
      and manufacturing processes.
    format: yaml
    placement: SSOT/LC04_DESIGN_REVIEW/cad-module/
    naming_pattern: "cad_semantics.yaml"
    knu_required: false

forbidden_artifacts:
  - class: MODEL_DELTA
    reason: "Topology mutation is DELINEANT domain exclusively"
    governance_rule: GOV-1
